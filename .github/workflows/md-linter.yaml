---
#################################
#################################
## Super Linter GitHub Actions ##
#################################
#################################
name: Lint Code Base

#
# Documentation:
# https://help.github.com/en/articles/workflow-syntax-for-github-actions
#

#############################
# Start the job on all push #
#############################
on:
  pull_request:
    branches: [master, dev]
    # only trigger when the PR contains a markdown file
    paths: 
      - '**.md'
      - '**.markdown'

jobs:
  lint-and-check-markdown:    
      runs-on: ubuntu-latest
      steps:
        - name: Checkout Code
          uses: actions/checkout@v2
          with:
            # Full git history is needed to get a proper list of changed files within `super-linter`
            fetch-depth: 0
        
        - name: Install npm
          uses: actions/setup-node@v2
          with:
            node-version: '16'

        - name: Install markdownlint-cli
          run: |
            npm install markdownlint-cli

        - name: Lint Markdown
          run: |
            node_modules/.bin/markdownlint -c .markdownlint.jsonc .
        
        # Check the links of the documents
        - name: Markdown Link Check
          uses: gaurav-nelson/github-action-markdown-link-check@v1
